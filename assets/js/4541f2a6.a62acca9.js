"use strict";(globalThis.webpackChunkpages=globalThis.webpackChunkpages||[]).push([[5138],{2027:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>t,metadata:()=>r,toc:()=>i});const r=JSON.parse('{"id":"mockolate/create-mocks","title":"Create mocks","description":"You can create mocks for interfaces and classes. For classes without a default constructor, use BaseClass.WithConstructorParameters(\u2026) to provide constructor arguments:","source":"@site/docs/mockolate/01-create-mocks.md","sourceDirName":"mockolate","slug":"/mockolate/create-mocks","permalink":"/docs/mockolate/create-mocks","draft":false,"unlisted":false,"editUrl":"https://github.com/aweXpect/aweXpect/tree/main/Docs/pages/docs/mockolate/01-create-mocks.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"mockolateSidebar","previous":{"title":"Mockolate","permalink":"/docs/mockolate/index"},"next":{"title":"Setup","permalink":"/docs/mockolate/setup"}}');var a=o(4848),n=o(8453);const t={},c="Create mocks",l={},i=[{value:"Customizing mock behavior",id:"customizing-mock-behavior",level:2},{value:"<code>MockBehavior</code> options",id:"mockbehavior-options",level:3},{value:"Using a factory for shared behavior",id:"using-a-factory-for-shared-behavior",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"create-mocks",children:"Create mocks"})}),"\n",(0,a.jsxs)(s.p,{children:["You can create mocks for interfaces and classes. For classes without a default constructor, use ",(0,a.jsx)(s.code,{children:"BaseClass.WithConstructorParameters(\u2026)"})," to provide constructor arguments:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:'// Create a mock for an interface\nvar mock = Mock.Create<IChocolateDispenser>();\n\n// Create a mock for a class\nvar classMock = Mock.Create<MyChocolateDispenser>();\n\n// For classes without a default constructor:\nvar classWithArgsMock = Mock.Create<MyChocolateDispenserWithCtor>(\n    BaseClass.WithConstructorParameters("Dark", 42)\n);\n\n// Specify up to 8 additional interfaces for the mock:\nvar mock3 = factory.Create<MyChocolateDispenser, ILemonadeDispenser>();\n'})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"Notes:"})}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Only the first generic type can be a class; additional types must be interfaces."}),"\n",(0,a.jsxs)(s.li,{children:["Sealed classes cannot be mocked and will throw a ",(0,a.jsx)(s.code,{children:"MockException"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"customizing-mock-behavior",children:"Customizing mock behavior"}),"\n",(0,a.jsxs)(s.p,{children:["You can control the default behavior of the mock by providing a ",(0,a.jsx)(s.code,{children:"MockBehavior"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:'var strictMock = Mock.Create<IChocolateDispenser>(new MockBehavior { ThrowWhenNotSetup = true });\n\n// For classes with constructor parameters and custom behavior:\nvar classMock = Mock.Create<MyChocolateDispenser>(\n    BaseClass.WithConstructorParameters("Dark", 42),\n    new MockBehavior { ThrowWhenNotSetup = true }\n);\n'})}),"\n",(0,a.jsxs)(s.h3,{id:"mockbehavior-options",children:[(0,a.jsx)(s.code,{children:"MockBehavior"})," options"]}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"ThrowWhenNotSetup"})," (bool):","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["If ",(0,a.jsx)(s.code,{children:"true"}),", the mock will throw an exception when a method or property is called without a setup."]}),"\n",(0,a.jsxs)(s.li,{children:["If ",(0,a.jsx)(s.code,{children:"false"}),", the mock will return a default value (see ",(0,a.jsx)(s.code,{children:"DefaultValue"}),")."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"BaseClassBehavior"})," (enum):","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Controls how the mock interacts with base class members. Options:","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"DoNotCallBaseClass"}),": Do not call base class implementation (default)."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"OnlyCallBaseClass"}),": Only call base class implementation."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"UseBaseClassAsDefaultValue"}),": Use base class as a fallback for default values."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"DefaultValue"})," (IDefaultValueGenerator):","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Customizes how default values are generated for methods/properties that are not set up."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"using-a-factory-for-shared-behavior",children:"Using a factory for shared behavior"}),"\n",(0,a.jsxs)(s.p,{children:["Use ",(0,a.jsx)(s.code,{children:"Mock.Factory"})," to create multiple mocks with a shared behavior:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-csharp",children:"var behavior = new MockBehavior { ThrowWhenNotSetup = true };\nvar factory = new Mock.Factory(behavior);\n\nvar mock1 = factory.Create<IChocolateDispenser>();\nvar mock2 = factory.Create<ILemonadeDispenser>();\n"})})]})}function d(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>t,x:()=>c});var r=o(6540);const a={},n=r.createContext(a);function t(e){const s=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(n.Provider,{value:s},e.children)}}}]);