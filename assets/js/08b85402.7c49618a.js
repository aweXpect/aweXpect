"use strict";(globalThis.webpackChunkpages=globalThis.webpackChunkpages||[]).push([[9344],{3490(e,s,t){t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});var n=t(4023),r=t(4848),a=t(8453);const o={slug:"why-another-assertion-library",title:"Why another assertion library",authors:["vbreuss"],tags:[]},i=void 0,l={authorsImageUrls:[void 0]},c=[];function h(e){const s={a:"a",br:"br",code:"code",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:["I am an active contributor to ",(0,r.jsx)(s.a,{href:"https://github.com/fluentassertions/fluentassertions",children:"fluentassertions"})," and am well aware of the great improvements it has on the readability of unit tests.\nBut I am also aware of its shortcomings."]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Limited async support"}),(0,r.jsx)(s.br,{}),"\n","It's async support is very limited, e.g."]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["The ",(0,r.jsx)(s.a,{href:"https://github.com/fluentassertions/fluentassertions/issues/1213",children:"issue"})," to add support for ",(0,r.jsx)(s.code,{children:"IAsyncEnumerable<T>"})," is open since 2019"]}),"\n",(0,r.jsxs)(s.li,{children:["It is not possible to access the ",(0,r.jsx)(s.code,{children:"Content"})," of an ",(0,r.jsx)(s.code,{children:"HttpResponseMessage"})," without blocking"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["No ",(0,r.jsx)(s.code,{children:"params"})]}),(0,r.jsx)(s.br,{}),"\n","Because the ",(0,r.jsx)(s.code,{children:"because"})," parameter is part of each call, you cannot use a ",(0,r.jsx)(s.code,{children:"params"})," parameter.\nAs a workaround the ",(0,r.jsx)(s.code,{children:"because"})," parameter was omitted in ",(0,r.jsx)(s.a,{href:"https://github.com/fluentassertions/fluentassertions/blob/6.12.2/Src/FluentAssertions/Primitives/StringAssertions.cs#L70",children:(0,r.jsx)(s.code,{children:"BeOneOf(params string[] validValues)"})}),", but this leads to an inconsistent API."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["That was the reason why I tried myself on a new concept which was also inspired by the approach from ",(0,r.jsx)(s.a,{href:"https://github.com/thomhurst/TUnit",children:"TUnit"})," to make every assertion asynchronous."]}),"\n",(0,r.jsxs)(s.p,{children:["This allows to delay the evaluation of the assertion until the call is awaited, which in turn allows to move specifying a because reason to a separate call.",(0,r.jsx)(s.br,{}),"\n","An additional benefit is, that the constraints themselves can decide if they need to be asynchronous, which allows mixing of sync and async constraints."]})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},4023(e){e.exports=JSON.parse('{"permalink":"/blog/why-another-assertion-library","editUrl":"https://github.com/aweXpect/aweXpect/tree/main/Docs/pages/blog/2024-11-29-first-blog-post.md","source":"@site/blog/2024-11-29-first-blog-post.md","title":"Why another assertion library","description":"I am an active contributor to fluentassertions and am well aware of the great improvements it has on the readability of unit tests.","date":"2024-11-29T00:00:00.000Z","tags":[],"readingTime":1.05,"hasTruncateMarker":true,"authors":[{"name":"Valentin Breu\xdf","title":"Maintainer of aweXpect","url":"https://github.com/vbreuss","page":{"permalink":"/blog/authors/vbreuss"},"socials":{"github":"https://github.com/vbreuss","linkedin":"https://www.linkedin.com/in/vbreuss/"},"imageURL":"https://github.com/vbreuss.png","key":"vbreuss"}],"frontMatter":{"slug":"why-another-assertion-library","title":"Why another assertion library","authors":["vbreuss"],"tags":[]},"unlisted":false}')},8453(e,s,t){t.d(s,{R:()=>o,x:()=>i});var n=t(6540);const r={},a=n.createContext(r);function o(e){const s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);