"use strict";(globalThis.webpackChunkpages=globalThis.webpackChunkpages||[]).push([[5138],{2027:(e,o,s)=>{s.r(o),s.d(o,{assets:()=>i,contentTitle:()=>c,default:()=>d,frontMatter:()=>n,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"mockolate/create-mocks","title":"Create mocks","description":"You can create mocks for interfaces and classes. For classes without a default constructor, use","source":"@site/docs/mockolate/01-create-mocks.md","sourceDirName":"mockolate","slug":"/mockolate/create-mocks","permalink":"/docs/mockolate/create-mocks","draft":false,"unlisted":false,"editUrl":"https://github.com/aweXpect/aweXpect/tree/main/Docs/pages/docs/mockolate/01-create-mocks.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"mockolateSidebar","previous":{"title":"Mockolate","permalink":"/docs/mockolate/index"},"next":{"title":"Setup","permalink":"/docs/mockolate/setup"}}');var t=s(4848),a=s(8453);const n={},c="Create mocks",i={},l=[{value:"Customizing mock behavior",id:"customizing-mock-behavior",level:2},{value:"<code>MockBehavior</code> options",id:"mockbehavior-options",level:3},{value:"Using a factory for shared behavior",id:"using-a-factory-for-shared-behavior",level:2}];function h(e){const o={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"create-mocks",children:"Create mocks"})}),"\n",(0,t.jsxs)(o.p,{children:["You can create mocks for interfaces and classes. For classes without a default constructor, use\n",(0,t.jsx)(o.code,{children:"BaseClass.WithConstructorParameters(\u2026)"})," to provide constructor arguments:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-csharp",children:'// Create a mock for an interface\nvar sut = Mock.Create<IChocolateDispenser>();\n\n// Create a mock for a class\nvar classMock = Mock.Create<MyChocolateDispenser>();\n\n// For classes without a default constructor:\nvar classWithArgsMock = Mock.Create<MyChocolateDispenserWithCtor>(\n    BaseClass.WithConstructorParameters("Dark", 42)\n);\n\n// Specify up to 8 additional interfaces for the mock:\nvar sut2 = factory.Create<MyChocolateDispenser, ILemonadeDispenser>();\n'})}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.strong,{children:"Notes:"})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Only the first generic type can be a class; additional types must be interfaces."}),"\n",(0,t.jsxs)(o.li,{children:["Sealed classes cannot be mocked and will throw a ",(0,t.jsx)(o.code,{children:"MockException"}),"."]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"customizing-mock-behavior",children:"Customizing mock behavior"}),"\n",(0,t.jsxs)(o.p,{children:["You can control the default behavior of the mock by providing a ",(0,t.jsx)(o.code,{children:"MockBehavior"}),":"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-csharp",children:'var strictMock = Mock.Create<IChocolateDispenser>(new MockBehavior { ThrowWhenNotSetup = true });\n\n// For classes with constructor parameters and custom behavior:\nvar classMock = Mock.Create<MyChocolateDispenser>(\n    BaseClass.WithConstructorParameters("Dark", 42),\n    new MockBehavior { ThrowWhenNotSetup = true }\n);\n'})}),"\n",(0,t.jsxs)(o.h3,{id:"mockbehavior-options",children:[(0,t.jsx)(o.code,{children:"MockBehavior"})," options"]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"ThrowWhenNotSetup"})," (bool):","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["If ",(0,t.jsx)(o.code,{children:"false"})," (default), the mock will return a default value (see ",(0,t.jsx)(o.code,{children:"DefaultValue"}),")."]}),"\n",(0,t.jsxs)(o.li,{children:["If ",(0,t.jsx)(o.code,{children:"true"}),", the mock will throw an exception when a method or property is called without a setup."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"CallBaseClass"})," (bool):","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["If ",(0,t.jsx)(o.code,{children:"false"})," (default), the mock will not call any base class implementations."]}),"\n",(0,t.jsxs)(o.li,{children:["If ",(0,t.jsx)(o.code,{children:"true"}),", the mock will call the base class implementation and use its return values as default values, if no\nexplicit setup is defined."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"DefaultValue"})," (IDefaultValueGenerator):","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Customizes how default values are generated for methods/properties that are not set up."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"using-a-factory-for-shared-behavior",children:"Using a factory for shared behavior"}),"\n",(0,t.jsxs)(o.p,{children:["Use ",(0,t.jsx)(o.code,{children:"Mock.Factory"})," to create multiple mocks with a shared behavior:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-csharp",children:"var behavior = new MockBehavior { ThrowWhenNotSetup = true };\nvar factory = new Mock.Factory(behavior);\n\nvar sut1 = factory.Create<IChocolateDispenser>();\nvar sut2 = factory.Create<ILemonadeDispenser>();\n"})})]})}function d(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,o,s)=>{s.d(o,{R:()=>n,x:()=>c});var r=s(6540);const t={},a=r.createContext(t);function n(e){const o=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:n(e.components),r.createElement(a.Provider,{value:o},e.children)}}}]);